var app=angular.module("Blog",["ui.router"]);app.directive("input",function(){return{restrict:"E",link:function(t,e,s){e.on("focus",function(t){e.parent().addClass("has-focus")}),e.on("blur",function(t){""!==e.val()?e.parent().addClass("has-value"):e.parent().removeClass("has-value"),e.parent().removeClass("has-focus")})}}}),app.run(["$rootScope",function(t){t.$on("$stateChangeStart",function(t,e){}),t.$on("$stateChangeSuccess",function(){})}]),function(){angular.module("Blog").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,s){e.otherwise("/"),t.state("home",{url:"/",views:{main:{templateUrl:"./assets/html/templates/home.html"}}}).state("author",{url:"/author",views:{main:{templateUrl:"./assets/html/templates/author.html"}}}).state("blog",{url:"/blog",views:{main:{templateUrl:"./assets/html/templates/blog.html"}}})}])}(angular),function(){angular.module("Blog").controller("MenuController",["$scope","Modal","Auth",function(t,e,s){function i(){var t=e.open(a);t.then(function(t){},function(t){})}function n(){var t=s.logout();t.then(function(t){},function(t){})}var o=this,a={subview:{name:"b-auth",id:"authModal",attrs:""}};o.loginSignup=i,o.logout=n,o.showMenu=!1}])}(),function(){angular.module("Blog").directive("bAuth",["Auth",function(t){return{restrict:"E",templateUrl:function(t,e){return"./assets/html/templates/b-auth.html"},link:function(e,s,i){e.login=function(){t.login().then(function(t){data=response.data,response.result&&e.defered.resolve("Login Success.")},function(t){e.defered.reject("Unable to login. Please try after some time.")})},e.signup=function(s){t.signup(s).then(function(t){data=response.data,response.result&&e.defered.resolve("Successfully registered.")},function(t){e.defered.reject("Unable to register now. Please try after some time.")})}}}}])}(),function(){angular.module("Blog").directive("bDropdown",function(){return{restrict:"A",compile:function(t,e){return t.on("click",function(e){e.stopPropagation(),t.toggleClass("open")}),document.onclick=function(e){t.removeClass("open")},function(t,e,s){}}}})}(),function(){angular.module("Blog").directive("bModal",["$rootScope","Modal","$compile",function(t,e,s){return{restrict:"E",scope:{},link:function(i,n,o){t.$on("modal.open",function(t,e){var o=document.getElementById(e.subview.id);if(o)angular.element(o).addClass("active");else{html="<"+e.subview.name+" b-modal-subview ",html+='id = "'+e.subview.id+'" ',html+=e.subview.attrs+" ",html+="> </"+e.subview.name+">";var a=angular.element(html),r=s(a),l=r(i);n.append(l)}}),i.closeModal=function(){e.reject()},t.$on("modal.destroy",function(t,e){modalSubview=document.getElementById(e),angular.element(modalSubview).remove()})}}}]).directive("bModalSubview",["$rootScope","Modal",function(t,e){return{restrict:"A",compile:function(e,s){return e.addClass("modal active"),t.$on("modal.close",function(t,i){s.id==i.subview.id&&e.removeClass("active")}),function(t,e,s){e.on("click",function(s){e[0].childNodes[1]==s.target&&t.closeModal()})}}}}])}(),function(){angular.module("Blog").directive("bMoveTop",[function(){return{restrict:"E",scope:{},template:"<span> Top </span>",compile:function(t,e){t.css({visibility:"hidden",display:"block",opacity:"0",transition:"all linear .25s",position:"fixed",bottom:"20px",right:"20px",zIndex:"500",width:"40px",height:"40px",textAlign:"center",lineHeight:"40px",fontSize:"14px",fontWeight:"bold",background:"white",borderRadius:"50%",boxShadow:"0 2px 10px 2px rgba(0,0,0,.3)",cursor:"pointer",transform:"translateY(10px)"});var s,i={visibility:"visible",opacity:1,transform:"translateY(0)"},n={visibility:"hidden",opacity:0,transform:"translateY(10px)"},o=0;return window.addEventListener("scroll",function(e){var a=window.scrollY,r=window.pageYOffset;o>a&&r>window.outerHeight?(s&&clearInterval(s),t.css(i),s=setTimeout(function(){t.css(n)},3e3)):t.css(n),o=a}),t.on("click",function(){window.scroll(0,0)}),function(t,e,s){}}}}])}(),function(t){function e(t,e){for(var s=e.split(" "),i=0;i<s.length;i++)t.classList.add(s[i])}function s(t,e){for(var s=e.split(" "),i=0;i<s.length;i++)t.classList.remove(s[i])}function i(t){this.dom=t,this.state=i.states.INACTIVE}function n(t,e,s){this.dom=t,this.slider=e,this.slideTo=s}function o(t,e,s){this.dom=t,this.slider=e,this.type=s,t.addEventListener("click",this)}function a(t){this.dom=t,this.slides=[],this.indicators=[],this.controllers=[],this.activeSlide=0,this.totalSlides=0,this.slideDuration=1e3,this.slideInterval=5e3,this.timer=void 0,this.state=a.states.STOP,this.lastState=a.states.STOP}var r=window.setTimeout,l=window.setInterval;window.setTimeout=function(t,e){var s=this,i=Array.prototype.slice.call(arguments,2);return r(t instanceof Function?function(){t.apply(s,i)}:t,e)},window.setInterval=function(t,e){var s=this,i=Array.prototype.slice.call(arguments,2);return l(t instanceof Function?function(){t.apply(s,i)}:t,e)},i.states={INACTIVE:0,PREV:1,NEXT:2,ACTIVE:3},i.classes={active:"slider__item--active",activeToLeft:"slider__item--active-to-left",activeToRight:"slider__item--active-to-right",prev:"slider__item--prev",prevToRight:"slider__item--prev-to-right",next:"slider__item--next",nextToLeft:"slider__item--next-to-left"},i.prototype={constructor:i,makePrev:function(){this.state=i.states.PREV,e(this.dom,i.classes.prev)},makeNext:function(){this.state=i.states.NEXT,e(this.dom,i.classes.next)},makeActive:function(){this.state=i.states.ACTIVE,e(this.dom,i.classes.active)},makeInactive:function(){this.state=i.states.INACTIVE,s(this.dom,i.classes.active+" "+i.classes.activeToLeft+" "+i.classes.activeToRight+" "+i.classes.prev+" "+i.classes.prevToRight+" "+i.classes.next+" "+i.classes.nextToLeft)},slideRight:function(){switch(this.state){case i.states.ACTIVE:e(this.dom,i.classes.activeToRight);break;case i.states.PREV:e(this.dom,i.classes.prevToRight);break;default:console.log("Can't add slide right to sate: "+this.state)}},slideLeft:function(){switch(this.state){case i.states.ACTIVE:e(this.dom,i.classes.activeToLeft);break;case i.states.NEXT:e(this.dom,i.classes.nextToLeft);break;default:console.log("Can't add slide left to sate: "+this.state)}}},n.classes={init:"indicator indicator--circle",active:"indicator--active"},n.create=function(t,s){var i=document.createElement("button");return e(i,"indicator indicator--circle"),sliderIndicator=new n(i,t,s),i.addEventListener("click",sliderIndicator,!1),sliderIndicator},n.prototype={constructor:n,makeActive:function(){e(this.dom,n.classes.active)},makeInactive:function(){s(this.dom,n.classes.active)},handleEvent:function(t){switch(t.type){case"click":this.slider.goToSlide(this.slider.activeSlide,this.slideTo);break;default:console.log("Unhandled event: "+t.type)}}},o.types={LEFT:1,RIGHT:2},o.prototype={constructor:o,handleEvent:function(t){switch(t.type){case"click":this.type==o.types.LEFT?this.slider.prev():this.type==o.types.RIGHT?this.slider.next():console.log("Unkown type of slider controller: "+this.type);break;default:console.log("Unhandles event: "+t.type)}}},a.states={STOP:1,PAUSE:2,PLAY:3,SLIDING:4},a.create=function(t){var e=new a(t);return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",e),e},a.prototype={constructor:a,addSlides:function(){for(var t,e=this.dom.getElementsByClassName("slider__container")[0].children,s=0;s<e.length;s++)t=new i(e[s]),this.slides.push(t);this.slides[0].state=i.states.ACTIVE,this.totalSlides=this.slides.length},addControllers:function(){var t,e;t=this.dom.querySelectorAll("[s-ctrl-type]");for(var s=0;s<t.length;s++)sCtrlType=t[s].getAttribute("s-ctrl-type"),"left"==sCtrlType?(e=new o(t[s],this,o.types.LEFT),this.controllers.push(e)):"right"==sCtrlType&&(e=new o(t[s],this,o.types.RIGHT),this.controllers.push(e))},addIndicators:function(){var t=document.createElement("div");e(t,"slider__indicator");for(var s,i=0;i<this.slides.length;i++)s=n.create(this,i),this.indicators.push(s),t.appendChild(s.dom);this.indicators[0].makeActive(),this.dom.appendChild(t)},pause:function(){(this.state==a.states.PLAY||this.state==a.states.SLIDING)&&(this.state=a.states.PAUSE,clearInterval(this.timer))},resume:function(){this.state==a.states.PAUSE&&this.play()},play:function(){this.state=a.states.PLAY,this.timer=setInterval.call(this,this.next,this.slideInterval)},stop:function(){this.state==a.states.SLIDING&&(this.lastState=a.states.STOP),this.state=a.states.STOP,clearInterval(this.timer)},reset:function(t,e){0!=this.indicators.length&&this.indicators[e].makeActive(),this.slides[t].makeInactive(),this.slides[e].makeInactive(),this.slides[e].makeActive(),this.activeSlide=e,this.state=this.lastState},goToSlide:function(t,e){this.state!=a.states.SLIDING&&(this.lastState=this.state,this.state=a.states.SLIDING,e>t?(this.slides[e].makeNext(),0!=this.indicators.length&&this.indicators[t].makeInactive(),setTimeout.call(this,function(){this.slides[t].slideLeft(),this.slides[e].slideLeft(),setTimeout.call(this,this.reset,this.slideDuration,t,e)},10)):t>e&&(this.slides[e].makePrev(),0!=this.indicators.length&&this.indicators[t].makeInactive(),setTimeout.call(this,function(){this.slides[t].slideRight(),this.slides[e].slideRight(),setTimeout.call(this,this.reset,this.slideDuration,t,e)},10)))},next:function(){var t=(this.activeSlide+1)%this.totalSlides;this.goToSlide(this.activeSlide,t)},prev:function(){var t=(this.activeSlide-1)%this.totalSlides;t=0>t?this.totalSlides-1:t,this.goToSlide(this.activeSlide,t)},handleEvent:function(t){switch(t.type){case"mouseenter":this.pause();break;case"mouseleave":this.resume();break;default:console.log("Unhandled event: +",t.type)}}},t.module("Blog").directive("bSlider",function(){return{restrict:"A",scope:{},compile:function(t,e){slider=a.create(t[0]);var s=e["s-add-indicator"],i=e["s-slide-interval"],n=e["s-slide-duration"];return slider.addSlides(),"false"!=s&&slider.addIndicators(),slider.addControllers(),i&&(slider.slideInterval=parseInt(i)),n&&(slider.slideDuration=parseInt(n)),slider.play(),function(t,e,s){}}}})}(angular),function(){angular.module("Blog").service("Auth",["$http","$rootScope",function(t,e){function s(t){}function i(){return $http.get("api/auth/logout")}function n(){return!1}function o(t){}function a(t){}function r(t,e){}return{login:s,logout:i,isLoggedIn:n,signup:o,forgotPassword:a,changePassword:r}}])}(),function(){angular.module("Blog").factory("ImgPreloader",["$q","$rootScope",function(t,e){function s(t){this.imgScrs=imgScrs,this.states={PENDING:1,LOADING:2,FAILED:3,LOADED:4},this.state=this.states.PENDING,this.loadCount=0,this.errorCount=0,this.imgCount=imgScrs.length,this.deferred=$q.defer(),this.promise=this.deferred.promise}return s.preloadImages=function(t){var e=new s(t);return e.load()},s.prototype={constructor:s,isIntiated:function(){return this.state!==this.states.PENDING},isFailed:function(){return this.state==this.states.FAILED},isLoaded:function(){return this.state==this.states.LOADED},load:function(){if(this.isIntiated())return this.promise;this.state=this.states.LOADING;for(var t=0;t<this.imgCount;t++)this.loadImg(this.imgSrcs[t]);return this.promise},successLoad:function(t){this.loadCount++,this.isFailed()||(this.deferred.notify({percent:Math.cell(this.loadCount/this.imgCount*100),imgSrc:t}),this.loadCount==this.imgCount&&(this.state=this.states.LOADED,this.deferred.resolve(this.imgSrcs)))},errorLoad:function(t){this.errorCount++,this.isFailed()||(this.state=this.states.FAILED,this.deferred.reject(t))},loadImg:function(t){var s=this,i=$(new Image).load(function(t){e.$apply(function(){s.successLoad(t.target.src),s=i=t=null})}).error(function(t){e.$apply(function(){s.errorLoad(t.target.src),s=i=t=null})}).prop("src",t)}},s}])}(),function(){angular.module("Blog").service("Modal",["$rootScope","$q",function(t,e){function s(s,i){var n=l.deferred;return l.deferred=e.defer(),l.params=s,n&&(i?l.deferred.promise.then(n.resolve,n.reject):n.reject()),t.$emit("modal.open",l.params),l.deferred.promise}function i(e){l.deferred&&(l.deferred.resolve(e),t.$emit("modal.close",l.params),l.deferred=l.params=null)}function n(e){l.deferred&&(l.deferred.reject(e),t.$emit("modal.close",l.params),l.deferred=l.params=null)}function o(t){return s(t,!0)}function a(e){t.$emit("modal.destroy",e)}function r(){return l.params||{}}var l={deffered:null,params:null};return{open:s,resolve:i,reject:n,proceedTo:o,params:r,destroy:a}}])}(),function(){angular.module("Blog").service("Session",function(){return{set:function(t,e){},get:function(t){},del:function(t){}}})}();